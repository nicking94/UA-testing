// hooks/useExpensesApi.tsimport { useState, useCallback } from 'react';import { expensesApi, ExpenseFilters } from '@/app/lib/api/expenses';import { Expense } from '@/app/lib/types/types';export const useExpensesApi = () => {  const [expenses, setExpenses] = useState<Expense[]>([]);  const [loading, setLoading] = useState(false);  const [error, setError] = useState<string | null>(null);  const fetchExpenses = useCallback(async (filters?: ExpenseFilters) => {    setLoading(true);    setError(null);    try {      const data = await expensesApi.getAll(filters);      setExpenses(data);      return data;    } catch (err: unknown) {      const errorMessage = (err as Error).message || 'Error al cargar gastos';      setError(errorMessage);      console.error('Error fetching expenses:', err);      throw err;    } finally {      setLoading(false);    }  }, []);  const addExpense = useCallback(async (expense: Omit<Expense, 'id'>) => {    setLoading(true);    setError(null);    try {      const newExpense = await expensesApi.create(expense);      setExpenses((prev) => [...prev, newExpense]);      return newExpense;    } catch (err: unknown) {      const errorMessage = (err as Error).message || 'Error al crear gasto';      setError(errorMessage);      throw err;    } finally {      setLoading(false);    }  }, []);  const updateExpense = useCallback(    async (id: number, updates: Partial<Expense>) => {      setLoading(true);      setError(null);      try {        const updated = await expensesApi.update(id, updates);        setExpenses((prev) =>          prev.map((e) => (e.id === id ? updated : e))        );        return updated;      } catch (err: unknown) {        const errorMessage = (err as Error).message || 'Error al actualizar gasto';        setError(errorMessage);        throw err;      } finally {        setLoading(false);      }    },    []  );  const deleteExpense = useCallback(async (id: number) => {    setLoading(true);    setError(null);    try {      await expensesApi.delete(id);      setExpenses((prev) => prev.filter((e) => e.id !== id));    } catch (err: unknown) {      const errorMessage = (err as Error).message || 'Error al eliminar gasto';      setError(errorMessage);      throw err;    } finally {      setLoading(false);    }  }, []);  return {    expenses,    loading,    error,    fetchExpenses,    addExpense,    updateExpense,    deleteExpense,    setExpenses,  };};