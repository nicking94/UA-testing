// hooks/useBudgetsApi.tsimport { useState, useCallback } from 'react';import { budgetsApi, BudgetFilters } from '@/app/lib/api/budgets';import { Budget } from '@/app/lib/types/types';export const useBudgetsApi = () => {  const [budgets, setBudgets] = useState<Budget[]>([]);  const [loading, setLoading] = useState(false);  const [error, setError] = useState<string | null>(null);  const fetchBudgets = useCallback(async (filters?: BudgetFilters) => {    setLoading(true);    setError(null);    try {      const data = await budgetsApi.getAll(filters);      setBudgets(data);      return data;    } catch (err: unknown) {      const errorMessage = (err as Error).message || 'Error al cargar presupuestos';      setError(errorMessage);      console.error('Error fetching budgets:', err);      throw err;    } finally {      setLoading(false);    }  }, []);  const addBudget = useCallback(async (budget: Omit<Budget, 'id'>) => {    setLoading(true);    setError(null);    try {      const newBudget = await budgetsApi.create(budget);      setBudgets((prev) => [...prev, newBudget]);      return newBudget;    } catch (err: unknown) {      const errorMessage = (err as Error).message || 'Error al crear presupuesto';      setError(errorMessage);      throw err;    } finally {      setLoading(false);    }  }, []);  const updateBudget = useCallback(    async (id: string, updates: Partial<Budget>) => {      setLoading(true);      setError(null);      try {        const updated = await budgetsApi.update(id, updates);        setBudgets((prev) =>          prev.map((b) => (b.id === id ? updated : b))        );        return updated;      } catch (err: unknown) {        const errorMessage = (err as Error).message || 'Error al actualizar presupuesto';        setError(errorMessage);        throw err;      } finally {        setLoading(false);      }    },    []  );  const deleteBudget = useCallback(async (id: string) => {    setLoading(true);    setError(null);    try {      await budgetsApi.delete(id);      setBudgets((prev) => prev.filter((b) => b.id !== id));    } catch (err: unknown) {      const errorMessage = (err as Error).message || 'Error al eliminar presupuesto';      setError(errorMessage);      throw err;    } finally {      setLoading(false);    }  }, []);  return {    budgets,    loading,    error,    fetchBudgets,    addBudget,    updateBudget,    deleteBudget,    setBudgets,  };};