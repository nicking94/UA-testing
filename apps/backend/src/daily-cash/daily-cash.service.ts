import { Injectable } from '@nestjs/common';import { PrismaService } from '../prisma/prisma.service';@Injectable()export class DailyCashService {  constructor(private prisma: PrismaService) {}  async findAll() {    return this.prisma.dailyCash.findMany({      include: { movements: true },      orderBy: { date: 'desc' },    });  }  async findByDate(date: string) {    return this.prisma.dailyCash.findUnique({      where: { date: new Date(date) },      include: { movements: true },    });  }  async create(data: any) {    return this.prisma.dailyCash.create({      data: {        ...data,        date: new Date(data.date),        movements: data.movements          ? {              create: data.movements.map((m: any) => ({                ...m,                date: new Date(m.date),              })),            }          : undefined,      },      include: { movements: true },    });  }  async update(id: number, data: any) {    return this.prisma.dailyCash.update({      where: { id },      data,      include: { movements: true },    });  }  async close(id: number, data: any) {    return this.prisma.dailyCash.update({      where: { id },      data: {        closed: true,        closingAmount: data.closingAmount,        closingDate: new Date(),        closingDifference: data.closingDifference,        closedBy: data.closedBy,        comments: data.comments,      },    });  }}