import { Injectable } from '@nestjs/common';import { PrismaService } from '../prisma/prisma.service';@Injectable()export class PaymentsService {  constructor(private prisma: PrismaService) {}  async findAll(filters?: {    saleId?: number;    customerId?: string;    dateFrom?: string;    dateTo?: string;  }) {    const where: any = {};    if (filters?.saleId) where.saleId = filters.saleId;    if (filters?.customerId) where.customerId = filters.customerId;    if (filters?.dateFrom || filters?.dateTo) {      where.date = {};      if (filters.dateFrom) where.date.gte = new Date(filters.dateFrom);      if (filters.dateTo) where.date.lte = new Date(filters.dateTo);    }    return this.prisma.payment.findMany({      where,      include: { sale: true, customer: true },      orderBy: { date: 'desc' },    });  }  async create(data: any) {    return this.prisma.payment.create({ data });  }  async update(id: number, data: any) {    return this.prisma.payment.update({ where: { id }, data });  }  async delete(id: number) {    return this.prisma.payment.delete({ where: { id } });  }}